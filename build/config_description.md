# Hacash 配置文件说明

Hacash的全节点、挖矿终端或其他可执行文件都使用 `.ini` 格式的简单配置文件来设置参数并启用或禁用某些功能。本文档将详细介绍其中每个配置文件的每一项功能。

一般情况，在编译下载的软件包内都会附带一个基础的配置文件，并填写好一些基础配置。比方说全节点，你可以直接通过在命令行中运行，并不需要指定配置文件的路径，程序会自动加载同一个目录下的配置文件，例如 `hacash.config.ini`（全节点） 或 `poworker.config.ini` （挖矿端）。

你也可以在运行时指定要使用的配置文件路径，来使用不同的配置文件，或在这些配置间切换运行，无需每次都去修改配置：

```bash

# 加载并使用本目录默认名称的配置 hacash.config.ini
./hacash_fullnode

# 明确指定配置文件的方式
./hacash_fullnode hacash.config.ini
./hacash_fullnode ../../hacash_mainnet.config.ini
./hacash_fullnode ./configs/hacash2.config.ini

```

## Fullnode 全节点配置

```ini

;;; 所有区块数据和账户状态数据的目录
data_dir = ./hacash_mainnet_data

;;; 一组配置，p2p网络连接和同步方面
[p2p]

;;; 在网络连接中显示的节点的名称
name = rust_node ; hn_usa 等等

;;; 本节点监听的端口，当其它节点连接你时，采用这个端口
listen = 3337

;;; 全节点启动时的入口节点，通过这些节点来加入整个去中心化网络
;;; 这些节点只是用来引导，而不是一直连接。网络会自动探索来不断连接和断开不同的全节点，保持网络的分散性结构
boots = 54.193.49.59:3337, 182.92.163.225:3337, 54.219.80.127:3337

;;; true 或者 false， 开启时表示尽可能快速的同步区块数据，避免一些安全性检查和数据校对工作
;;; 注意，此项仅在从零开始同步历史所有区块时才建议开支，在正常运行或区块可能面临分叉或其他不一致问题，请不要开启此项
fast_sync = false

;;; 不搜寻全网的节点，只连接到 boot 节点，一般不建议开启
;;; 此项通常用于临时测试，或者本地两个节点之间快速同步区块数据
not_find_nodes = false


;;; HTTP API 全节点接口服务
[server]

;;; true 或 false 表示开启全节点的接口服务
enable = true

;;; HTTP 服务监听的端口，例如通过 http://127.0.0.1:8081 来访问 api
listen = 8081


;;; 挖矿相关的配置
[miner]

;;; true 或 false 表示开启挖矿在全节点上的支持
;;; HAC 和 HACD 挖矿都需要开启此项，以启用全节点的交易池功能，或者打包新的区块
enable = true

;;; 如果 HAC 挖矿成功，区块奖励的地址
reward = 1AVRuFXNFi3rdMrPH4hdqSgFrEBnWisWaS

;;; 区块的播报方，或者矿池名称
message = HacPool ; my_pool_node



```

## PoWorker HAC 挖矿端配置


挖矿端通过全节点的 API 接口来与全网保持连接，获取新的待挖掘的区块、监听下一个区块或提交成功挖出的区块。

每一个全节点可以挂载很多个挖矿端，来组成挖矿集群。通过本地网络和公共网络连接均可。

请注意，以往的挖矿端必须连接单独的 TCP 协议的矿池端口，而 Rust 版本的挖矿端，采用了普通 HTTP 方式的全节点接口，更加通用和健壮，能够支持更加丰富的编程语言和设备，来开发矿池程序和更多版本的挖矿端，并且更加方便的集成到第三方挖矿生态和工具体系内。


```ini

;;; 连接的全节点 API 服务 ip地址 和 端口
connect = 127.0.0.1:8081

;;; 目前仅支持 CPU 设备挖矿
;;; 多线程挖矿、采用 CPU 多核心并行挖矿。
supervene = 2

```





